<html>
<head>
    <style type="text/css">
        .grid-container {
            display: grid;
            column-gap: 50px;
        }
    </style>
</head>
<body>
    <div style="width: 520px;">
        <div class="grid-container" style="grid-template-columns: auto auto auto;">
            <div class="grid-item">Level:<input id="lvl" value="1" style="width: 80px;" oninput="Calculate()"></div>
            <div class="grid-item">Stats:<input id="stats" value="30" style="width: 80px;" oninput="Calculate()"></div>
            <div class="grid-item"></div>
            <div class="grid-item">Base:<input id="base" value="0" style="width: 80px;" readonly></div>
            <div class="grid-item">Relic:<input id="relicP" value="0" style="width: 80px;" oninput="Calculate()">%</div>
            <div class="grid-item">Ship:<input id="shipP" value="0" style="width: 80px;" oninput="Calculate()">%</div>
            <div class="grid-item">Buff:<input id="buffP" value="0" style="width: 80px;" oninput="Calculate()">%</div>
            <div class="grid-item">RNK^:<input id="rnkP" value="0" style="width: 80px;" oninput="Calculate()">%</div>
            <div class="grid-item">TAL:<input id="talP" value="0" style="width: 80px;" oninput="Calculate()">%</div>
            <div class="grid-item">Ship:<input id="ship" value="0" style="width: 80px;" oninput="Calculate()"></div>
            <div class="grid-item">Item:<input id="item" value="0" style="width: 80px;" oninput="Calculate()"></div>
            <div class="grid-item">RNK^:<input id="rnk" value="0" style="width: 80px;" oninput="Calculate()"></div>
            <div class="grid-item">PVP:<input id="pvp" value="0" style="width: 80px;" oninput="Calculate()"></div>
            <div class="grid-item">Rank:<input id="rankP" value="0" style="width: 80px;" oninput="Calculate()">%</div>
            <div class="grid-item">Rank:<input id="rank" value="0" style="width: 80px;" oninput="Calculate()"></div>
        </div>
        <br />
        <div>Total PWR: <input id="totalPWR" value="0" style="width: 120px;"></div>
        <br />
        <div>+1 Stat: <input id="stat1" value="0" style="width: 120px;"></div>
        <div>+1 Level: <input id="lvl1" value="0" style="width: 120px;"></div>
        <div>+1 %: <input id="p1" value="0" style="width: 120px;"></div>
    </div>
    <script>
        function Calculate()
        {
            let totalP = 1 + (ParseShortFloat(relicP.value) + ParseShortFloat(shipP.value) + ParseShortFloat(buffP.value) + ParseShortFloat(rnkP.value) + ParseShortFloat(talP.value) + ParseShortFloat(rankP.value)) / 100;
            let totalF = ParseShortFloat(ship.value) + ParseShortFloat(item.value) + ParseShortFloat(rnk.value) + ParseShortFloat(pvp.value) + ParseShortFloat(rank.value);
            let b = ParseShortFloat(stats.value) * GetLevelMult(ParseShortFloat(lvl.value));
            let tot = b * totalP + totalF;
            base.value = Math.round(b);
            totalPWR.value = Math.round(tot);


            p1.value = Math.round((b * (totalP + 0.01) + totalF) - tot);

            b = (ParseShortFloat(stats.value) + 1) * GetLevelMult(ParseShortFloat(lvl.value));
            stat1.value = Math.round((b * totalP + totalF) - tot);

            b = ParseShortFloat(stats.value) * GetLevelMult((ParseShortFloat(lvl.value) + 1));
            lvl1.value = Math.round((b * totalP + totalF) - tot);
        }
        function GetLevelMult(level)
        {
            const mults = [192.3216226005, 197.4156061259, 201.9972059813, 206.2917162519, 210.4310032597, 214.4771563098, 218.4094789672, 222.2590158845, 226.0671599317, 229.8028664563, 233.5178765458, 237.2121902002, 240.8444145496, 244.518031769, 248.1399079009, 251.7307393801, 255.3629637295, 258.9537952088, 262.5549749056, 266.1458063849, 269.7366378641, 273.3688622135, 276.9596936928, 280.5815698246, 284.213794174, 287.8460185233, 291.4782428727, 295.1415118746, 298.7737362239, 302.4783980959, 306.1416670978, 309.8463289698, 313.5509908418, 317.2970455839, 321.0327521084, 324.8098515031, 328.5869508977, 332.3640502923, 336.182542557, 340.0320794743, 343.8816163916, 347.7311533088, 351.6220830962, 355.5544057536, 359.4763801935, 363.4087028509, 367.3617219434, 371.3664821235, 375.360894086, 379.4070471361, 383.4325037512, 387.5097014539, 391.6282920267, 395.736534382, 399.8861696073, 404.0358048326, 408.2164847105, 412.4385574585, 416.6606302064, 420.9240958245, 425.1875614425, 429.4717234956, 433.8076266363, 438.143529777, 442.5104775702, 446.9291664511, 451.3271588969, 455.7768924303, 460.2576706162, 464.7384488022, 469.2502716407, 473.8034873493, 478.3670512754, 482.9513116366, 487.5873130853, 492.2129663166, 496.8800124179, 501.5884513892, 506.2968903606, 511.0363739846, 515.8069022611, 520.5877787551, 525.4307445543, 530.2530139184, 535.1477208051, 540.0320794743, 544.9578310136, 549.924975423, 554.8817716148, 559.8799606768, 564.9298908263, 570, 575.0699578164, 580.1896170070, 585.3293238107, 590.4798897381, 595.6697155744, 600.8896128304, 606.1095100864, 611.40946011, 616.68975952, 622.02978181, 627.37935977, 632.74964166, 638.15973881, 643.58974359, 649.02930403, 654.52938366, 660.02946329, 665.58926581, 671.15942029, 676.7494824, 682.37935977, 688.02994107, 693.71954133, 699.40993789, 705.15926103, 710.90938047, 716.71922281, 722.52986144, 728.37951903, 734.24988055, 740.15926103, 746.05988215, 752.02978181, 758.02994107, 764.02930403, 770.05972289, 776.15942029, 782.24956203, 788.37951903, 794.52938366, 800.68960025, 806.90953974, 813.15973881, 819.40993789, 825.71985985, 832.02978181, 838.37951903, 844.77942348, 851.18967989, 857.62939959, 864.05956362, 870.55980252, 877.0895047, 883.65981844, 890.21978022, 896.83946488, 903.46950151, 910.12996219, 916.83994959, 923.53969754, 930.29930687, 937.07939509, 943.88941399, 950.72936358, 957.58979206, 964.48960302, 971.42958412, 978.34987398, 985.34971645, 992.34955892, 999.40926276, 1006.45951481, 1013.56962823, 1020.67974165, 1027.839477, 1035.02993069, 1042.23928796, 1049.48960302, 1056.75960933, 1064.04930687, 1071.37996219, 1078.72952111, 1086.10979836, 1093.53969754, 1100.96959672, 1108.45935728, 1115.94990548, 1123.48928796, 1131.04993699, 1138.64996849, 1146.26969124, 1153.91934468, 1161.589477, 1169.29977946, 1177.02977316, 1184.7794581, 1192.58979206, 1200.40957782, 1208.26953371, 1216.15942029, 1224.04930687, 1231.99984247, 1239.96928166, 1247.96943919, 1255.99952741, 1264.04930687, 1272.15973535, 1280.26959638, 1288.39956366, 1296.59965716, 1304.78962132, 1313.01932367, 1321.2895434, 1329.59950132, 1337.8993299, 1346.25993455, 1354.63923952, 1363.06997039, 1371.49992208, 1379.97974131, 1388.47981923, 1396.99937666, 1405.5695808, 1414.13978495, 1422.75985663, 1431.42979585, 1440.09973508, 1448.8094125, 1457.54947795, 1466.30980209, 1475.09973508, 1483.92940626, 1492.78946548, 1501.66978339, 1510.59996883, 1519.51924575, 1528.49929874, 1537.5198691, 1546.54978962, 1555.61944834, 1564.68988624, 1573.82967119, 1582.97958548, 1592.16923796, 1601.37992832, 1610.61944834, 1619.87922705, 1629.18965249, 1638.51955743, 1647.8798504, 1657.25962288, 1666.6892629, 1676.13994078, 1685.61944834, 1695.11999377, 1704.66962755, 1714.23952002, 1723.82978723, 1783, 1793, 1802, 1811, 1821, 1830, 1839, 1849, 1858, 1867, 1877, 1886, 1895, 1905, 1914, 1923, 1933, 1942, 1951, 1961, 1970, 1979, 1989, 1998, 2007, 2017, 2026, 2035, 2045, 2054, 2063, 2073, 2082, 2091, 2101, 2110, 2119, 2129, 2138, 2147, 2157, 2166, 2175, 2185, 2194, 2203, 2213, 2222, 2231, 2241, 2311, 2322, 2332, 2343, 2354, 2365, 2375, 2386, 2397, 2408, 2418, 2429, 2440, 2451, 2461, 2472, 2483, 2493, 2504, 2515, 2526, 2536, 2547, 2558, 2569, 2579, 2590, 2601, 2612, 2622, 2633, 2644, 2654, 2665, 2676, 2687, 2697, 2708, 2719, 2730, 2740, 2751, 2762, 2773, 2783, 2794, 2805, 2815, 2826, 2837, 2917, 2929, 2941, 2953, 2965, 2978, 2990, 3002, 3014, 3026, 3038, 3051, 3063, 3075, 3087, 3099, 3111, 3124, 3136, 3148, 3160, 3172, 3184, 3197, 3209, 3221, 3233, 3245, 3257, 3270, 3282, 3294, 3306, 3318, 3330, 3343, 3355, 3367, 3379, 3391, 3403, 3416, 3428, 3440, 3452, 3464, 3476, 3489, 3501, 3513, 3602, 3616, 3630, 3643, 3657, 3671, 3684, 3698, 3711, 3725, 3739, 3752, 3766, 3780, 3793, 3807, 3821, 3834, 3848, 3862, 3875, 3889, 3902, 3916, 3930, 3943, 3957, 3971, 3984, 3998, 4012, 4025, 4039, 4053, 4066, 4080, 4093, 4107, 4121, 4134, 4148, 4162, 4175, 4189, 4203, 4216, 4230, 4244, 4257, 4271, 4370, 4385, 4400, 4416, 4431, 4446, 4461, 4476, 4491, 4507, 4522, 4537, 4552, 4567, 4582, 4598, 4613, 4628, 4643, 4658, 4673, 4688, 4704, 4719, 4734, 4749, 4764, 4779, 4795, 4810, 4825, 4840, 4855, 4870, 4886, 4901, 4916, 4931, 4946, 4961, 4976, 4992, 5007, 5022, 5037, 5052, 5067, 5083, 5098, 5113, 5222, 5239, 5256, 5273, 5289, 5306, 5323, 5340, 5356, 5373, 5390, 5406, 5423, 5440, 5457, 5473, 5490, 5507, 5523, 5540, 5557, 5574, 5590, 5607, 5624, 5640, 5657, 5674, 5691, 5707, 5724, 5741, 5757, 5774, 5791, 5808, 5824, 5841, 5858, 5874, 5891, 5908, 5925, 5941, 5958, 5975, 5991, 6008, 6025, 6042];
            return mults[level - 1];
        }
        function ParseShortFloat(valStr)
        {
            valStr = valStr.trim();

            if (valStr == '')
                return 0;

            valStr = valStr.toUpperCase();

            let m = 1;
            let endChar = true;
            if (valStr.slice(-1) == 'K')
                m = 1000;
            else if (valStr.slice(-1) == 'M')
                m = 1000 * 1000;
            else if (valStr.slice(-1) == 'B')
                m = 1000 * 1000 * 1000;
            else if (valStr.slice(-1) == 'T')
                m = 1000.0 * 1000 * 1000 * 1000;
            else
                endChar = false;

            if (endChar)
                valStr = valStr.substr(0, valStr.length - 1);

            if (valStr == '')
                return 0;

            return parseFloat(valStr) * m;
        }
    </script>
</body>
</html>
